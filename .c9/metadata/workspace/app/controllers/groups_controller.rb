{"filter":false,"title":"groups_controller.rb","tooltip":"/app/controllers/groups_controller.rb","undoManager":{"mark":100,"position":100,"stack":[[{"start":{"row":71,"column":17},"end":{"row":71,"column":18},"action":"insert","lines":[" "],"id":224}],[{"start":{"row":71,"column":18},"end":{"row":71,"column":27},"action":"insert","lines":["@ad_users"],"id":225}],[{"start":{"row":72,"column":0},"end":{"row":73,"column":0},"action":"insert","lines":["    @all_users << @ad_users",""],"id":226}],[{"start":{"row":72,"column":19},"end":{"row":72,"column":27},"action":"remove","lines":["ad_users"],"id":227},{"start":{"row":72,"column":19},"end":{"row":72,"column":28},"action":"insert","lines":["mem_users"]}],[{"start":{"row":71,"column":16},"end":{"row":71,"column":17},"action":"remove","lines":["<"],"id":228}],[{"start":{"row":71,"column":15},"end":{"row":71,"column":16},"action":"remove","lines":["<"],"id":229}],[{"start":{"row":71,"column":15},"end":{"row":71,"column":16},"action":"insert","lines":["="],"id":230}],[{"start":{"row":70,"column":0},"end":{"row":71,"column":0},"action":"remove","lines":["    @all_users = []",""],"id":231}],[{"start":{"row":71,"column":0},"end":{"row":71,"column":17},"action":"remove","lines":["    @all_users <<"],"id":232}],[{"start":{"row":70,"column":26},"end":{"row":71,"column":0},"action":"remove","lines":["",""],"id":233}],[{"start":{"row":70,"column":26},"end":{"row":70,"column":27},"action":"insert","lines":[" "],"id":234}],[{"start":{"row":70,"column":27},"end":{"row":70,"column":28},"action":"insert","lines":["+"],"id":235}],[{"start":{"row":70,"column":17},"end":{"row":70,"column":39},"action":"remove","lines":["@ad_users + @mem_users"],"id":236},{"start":{"row":70,"column":17},"end":{"row":70,"column":36},"action":"insert","lines":[" @group.user_groups"]}],[{"start":{"row":96,"column":18},"end":{"row":97,"column":0},"action":"insert","lines":["",""],"id":237},{"start":{"row":97,"column":0},"end":{"row":97,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":97,"column":4},"end":{"row":97,"column":5},"action":"insert","lines":["i"],"id":238}],[{"start":{"row":97,"column":5},"end":{"row":97,"column":6},"action":"insert","lines":["f"],"id":239}],[{"start":{"row":97,"column":6},"end":{"row":97,"column":7},"action":"insert","lines":[" "],"id":240}],[{"start":{"row":97,"column":7},"end":{"row":97,"column":8},"action":"insert","lines":["p"],"id":241}],[{"start":{"row":97,"column":8},"end":{"row":97,"column":9},"action":"insert","lines":["a"],"id":242}],[{"start":{"row":97,"column":4},"end":{"row":97,"column":9},"action":"remove","lines":["if pa"],"id":243},{"start":{"row":97,"column":4},"end":{"row":97,"column":5},"action":"insert","lines":["u"]}],[{"start":{"row":97,"column":5},"end":{"row":97,"column":6},"action":"insert","lines":["n"],"id":244}],[{"start":{"row":97,"column":6},"end":{"row":97,"column":7},"action":"insert","lines":["l"],"id":245}],[{"start":{"row":97,"column":7},"end":{"row":97,"column":8},"action":"insert","lines":["e"],"id":246}],[{"start":{"row":97,"column":8},"end":{"row":97,"column":9},"action":"insert","lines":["s"],"id":247}],[{"start":{"row":97,"column":9},"end":{"row":97,"column":10},"action":"insert","lines":["s"],"id":248}],[{"start":{"row":97,"column":10},"end":{"row":97,"column":11},"action":"insert","lines":[" "],"id":249}],[{"start":{"row":97,"column":11},"end":{"row":97,"column":28},"action":"insert","lines":["params[:user_ids]"],"id":250}],[{"start":{"row":97,"column":28},"end":{"row":97,"column":29},"action":"insert","lines":["."],"id":251}],[{"start":{"row":97,"column":29},"end":{"row":97,"column":30},"action":"insert","lines":["n"],"id":252}],[{"start":{"row":97,"column":30},"end":{"row":97,"column":31},"action":"insert","lines":["i"],"id":253}],[{"start":{"row":97,"column":31},"end":{"row":97,"column":32},"action":"insert","lines":["l"],"id":254}],[{"start":{"row":97,"column":32},"end":{"row":97,"column":33},"action":"insert","lines":["?"],"id":255}],[{"start":{"row":100,"column":109},"end":{"row":101,"column":0},"action":"insert","lines":["",""],"id":256},{"start":{"row":101,"column":0},"end":{"row":101,"column":2},"action":"insert","lines":["  "]}],[{"start":{"row":101,"column":2},"end":{"row":101,"column":3},"action":"insert","lines":["e"],"id":257}],[{"start":{"row":101,"column":3},"end":{"row":101,"column":4},"action":"insert","lines":["n"],"id":258}],[{"start":{"row":101,"column":4},"end":{"row":101,"column":5},"action":"insert","lines":["d"],"id":259}],[{"start":{"row":98,"column":0},"end":{"row":98,"column":4},"action":"insert","lines":["    "],"id":260},{"start":{"row":99,"column":0},"end":{"row":99,"column":4},"action":"insert","lines":["    "]},{"start":{"row":100,"column":0},"end":{"row":100,"column":4},"action":"insert","lines":["    "]},{"start":{"row":101,"column":0},"end":{"row":101,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":101,"column":4},"end":{"row":101,"column":5},"action":"remove","lines":[" "],"id":261}],[{"start":{"row":101,"column":4},"end":{"row":101,"column":5},"action":"remove","lines":[" "],"id":262}],[{"start":{"row":98,"column":0},"end":{"row":99,"column":0},"action":"remove","lines":["      @group = Group.find(params[:id])",""],"id":263},{"start":{"row":97,"column":0},"end":{"row":98,"column":0},"action":"insert","lines":["      @group = Group.find(params[:id])",""]}],[{"start":{"row":102,"column":96},"end":{"row":102,"column":112},"action":"remove","lines":["params[:comm_id]"],"id":264},{"start":{"row":102,"column":96},"end":{"row":102,"column":97},"action":"insert","lines":["a"]}],[{"start":{"row":102,"column":97},"end":{"row":102,"column":98},"action":"insert","lines":["c"],"id":265}],[{"start":{"row":102,"column":98},"end":{"row":102,"column":99},"action":"insert","lines":["t"],"id":266}],[{"start":{"row":102,"column":96},"end":{"row":102,"column":99},"action":"remove","lines":["act"],"id":267},{"start":{"row":102,"column":96},"end":{"row":102,"column":112},"action":"insert","lines":["active_community"]}],[{"start":{"row":102,"column":112},"end":{"row":102,"column":113},"action":"insert","lines":["."],"id":268}],[{"start":{"row":102,"column":113},"end":{"row":102,"column":114},"action":"insert","lines":["i"],"id":269}],[{"start":{"row":102,"column":114},"end":{"row":102,"column":115},"action":"insert","lines":["d"],"id":270}],[{"start":{"row":101,"column":7},"end":{"row":102,"column":0},"action":"insert","lines":["",""],"id":271},{"start":{"row":102,"column":0},"end":{"row":102,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":102,"column":4},"end":{"row":102,"column":23},"action":"insert","lines":[" redirect_to @group"],"id":272}],[{"start":{"row":103,"column":2},"end":{"row":103,"column":3},"action":"insert","lines":["#"],"id":273}],[{"start":{"row":145,"column":8},"end":{"row":145,"column":9},"action":"remove","lines":["v"],"id":274}],[{"start":{"row":145,"column":7},"end":{"row":145,"column":8},"action":"remove","lines":["n"],"id":275}],[{"start":{"row":145,"column":6},"end":{"row":145,"column":7},"action":"remove","lines":["i"],"id":276}],[{"start":{"row":145,"column":6},"end":{"row":145,"column":7},"action":"insert","lines":["m"],"id":277}],[{"start":{"row":145,"column":7},"end":{"row":145,"column":8},"action":"insert","lines":["e"],"id":278}],[{"start":{"row":145,"column":8},"end":{"row":145,"column":9},"action":"insert","lines":["m"],"id":279}],[{"start":{"row":147,"column":48},"end":{"row":148,"column":0},"action":"insert","lines":["",""],"id":280},{"start":{"row":148,"column":0},"end":{"row":148,"column":5},"action":"insert","lines":["     "]}],[{"start":{"row":148,"column":5},"end":{"row":148,"column":38},"action":"insert","lines":[" @all_users =  @group.user_groups"],"id":281}],[{"start":{"row":148,"column":5},"end":{"row":148,"column":6},"action":"remove","lines":[" "],"id":282}],[{"start":{"row":100,"column":0},"end":{"row":101,"column":0},"action":"remove","lines":["      @group.user_groups.update_all({:is_admin => false}, {:user_id => params[:user_all_ids]-params[:user_ids] })",""],"id":283},{"start":{"row":99,"column":0},"end":{"row":100,"column":0},"action":"insert","lines":["      @group.user_groups.update_all({:is_admin => false}, {:user_id => params[:user_all_ids]-params[:user_ids] })",""]}],[{"start":{"row":103,"column":2},"end":{"row":103,"column":3},"action":"remove","lines":["#"],"id":284}],[{"start":{"row":102,"column":2},"end":{"row":102,"column":3},"action":"insert","lines":["#"],"id":285}],[{"start":{"row":103,"column":2},"end":{"row":103,"column":3},"action":"insert","lines":["#"],"id":286}],[{"start":{"row":101,"column":7},"end":{"row":102,"column":0},"action":"insert","lines":["",""],"id":287},{"start":{"row":102,"column":0},"end":{"row":102,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":102,"column":4},"end":{"row":106,"column":90},"action":"insert","lines":["@mem_users = User.where(['id IN (?)', @group.user_groups.where('invitation = ? AND is_admin = ?',Uc_enum::JOINED,false).collect(&:user_id)])","     @ad_users = User.where(['id IN (?)', @group.user_groups.where('invitation = ? AND is_admin = ?',Uc_enum::JOINED,true).collect(&:user_id)])","     @is_admin = @ad_users.include? current_user","     @all_users =  @group.user_groups","     @ucs = @group.user_groups.where(\"user_id = ?  AND is_admin=?\",current_user.id, true )"],"id":288}],[{"start":{"row":102,"column":4},"end":{"row":102,"column":5},"action":"insert","lines":[" "],"id":290}],[{"start":{"row":290,"column":20},"end":{"row":290,"column":21},"action":"remove","lines":["p"],"id":291}],[{"start":{"row":290,"column":19},"end":{"row":290,"column":20},"action":"remove","lines":["u"],"id":292}],[{"start":{"row":290,"column":18},"end":{"row":290,"column":19},"action":"remove","lines":["o"],"id":293}],[{"start":{"row":290,"column":17},"end":{"row":290,"column":18},"action":"remove","lines":["r"],"id":294}],[{"start":{"row":290,"column":16},"end":{"row":290,"column":17},"action":"remove","lines":["g"],"id":295}],[{"start":{"row":290,"column":15},"end":{"row":290,"column":16},"action":"remove","lines":["@"],"id":296}],[{"start":{"row":290,"column":14},"end":{"row":290,"column":15},"action":"remove","lines":[" "],"id":297}],[{"start":{"row":290,"column":13},"end":{"row":290,"column":14},"action":"remove","lines":["o"],"id":298}],[{"start":{"row":290,"column":12},"end":{"row":290,"column":13},"action":"remove","lines":["t"],"id":299}],[{"start":{"row":290,"column":11},"end":{"row":290,"column":12},"action":"remove","lines":["_"],"id":300}],[{"start":{"row":290,"column":10},"end":{"row":290,"column":11},"action":"remove","lines":["t"],"id":301}],[{"start":{"row":290,"column":9},"end":{"row":290,"column":10},"action":"remove","lines":["c"],"id":302}],[{"start":{"row":290,"column":8},"end":{"row":290,"column":9},"action":"remove","lines":["e"],"id":303}],[{"start":{"row":290,"column":7},"end":{"row":290,"column":8},"action":"remove","lines":["r"],"id":304}],[{"start":{"row":290,"column":6},"end":{"row":290,"column":7},"action":"remove","lines":["i"],"id":305}],[{"start":{"row":290,"column":5},"end":{"row":290,"column":6},"action":"remove","lines":["d"],"id":306}],[{"start":{"row":290,"column":4},"end":{"row":290,"column":5},"action":"remove","lines":["e"],"id":307}],[{"start":{"row":290,"column":3},"end":{"row":290,"column":4},"action":"remove","lines":["r"],"id":308}],[{"start":{"row":290,"column":2},"end":{"row":290,"column":3},"action":"remove","lines":[" "],"id":309}],[{"start":{"row":285,"column":5},"end":{"row":288,"column":91},"action":"remove","lines":[" @inv_users = User.where(['id IN (?)', @group.user_groups.where('invitation = ? AND is_admin = ?',Uc_enum::JOINED,false).collect(&:user_id)])"," #    @ad_users = User.where(['id IN (?)', @group.user_groups.where('invitation = ? AND is_admin = ?',Uc_enum::JOINED,true).collect(&:user_id)])"," #    @is_admin = @ad_users.include? current_user","  #   @ucs = @group.user_groups.where(\"user_id = ?  AND is_admin=?\",current_user.id, true )"],"id":310},{"start":{"row":285,"column":5},"end":{"row":288,"column":37},"action":"insert","lines":[" @mem_users = User.where(['id IN (?)', @group.user_groups.where('invitation = ? AND is_admin = ?',Uc_enum::JOINED,false).collect(&:user_id)])","     @ad_users = User.where(['id IN (?)', @group.user_groups.where('invitation = ? AND is_admin = ?',Uc_enum::JOINED,true).collect(&:user_id)])","     @is_admin = @ad_users.include? current_user","     @all_users =  @group.user_groups"]}],[{"start":{"row":285,"column":5},"end":{"row":285,"column":6},"action":"remove","lines":[" "],"id":311}],[{"start":{"row":285,"column":4},"end":{"row":285,"column":5},"action":"remove","lines":[" "],"id":312}],[{"start":{"row":285,"column":3},"end":{"row":285,"column":4},"action":"remove","lines":[" "],"id":313}],[{"start":{"row":285,"column":2},"end":{"row":285,"column":3},"action":"remove","lines":[" "],"id":314}],[{"start":{"row":285,"column":1},"end":{"row":285,"column":2},"action":"remove","lines":["#"],"id":315}],[{"start":{"row":285,"column":1},"end":{"row":285,"column":2},"action":"insert","lines":[" "],"id":316}],[{"start":{"row":285,"column":2},"end":{"row":285,"column":3},"action":"insert","lines":[" "],"id":317}],[{"start":{"row":285,"column":3},"end":{"row":285,"column":4},"action":"insert","lines":[" "],"id":318}],[{"start":{"row":285,"column":4},"end":{"row":285,"column":5},"action":"insert","lines":[" "],"id":319}],[{"start":{"row":288,"column":37},"end":{"row":288,"column":99},"action":"insert","lines":[".where('invitation = ? AND is_admin = ?',Uc_enum::JOINED,true)"],"id":320}],[{"start":{"row":288,"column":60},"end":{"row":288,"column":76},"action":"remove","lines":["AND is_admin = ?"],"id":321}],[{"start":{"row":288,"column":77},"end":{"row":288,"column":82},"action":"remove","lines":[",true"],"id":322}],[{"start":{"row":153,"column":37},"end":{"row":153,"column":78},"action":"insert","lines":[".where('invitation = ? ',Uc_enum::JOINED)"],"id":323}],[{"start":{"row":105,"column":37},"end":{"row":105,"column":78},"action":"insert","lines":[".where('invitation = ? ',Uc_enum::JOINED)"],"id":324}],[{"start":{"row":70,"column":36},"end":{"row":70,"column":77},"action":"insert","lines":[".where('invitation = ? ',Uc_enum::JOINED)"],"id":327}]]},"ace":{"folds":[],"scrolltop":417,"scrollleft":0,"selection":{"start":{"row":70,"column":5},"end":{"row":70,"column":14},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":31,"state":"start","mode":"ace/mode/ruby"}},"timestamp":1436855811756,"hash":"8f7d5522ac74906c2bd525c05363ea63a601b10d"}