{"filter":false,"title":"_event_albums.html.erb","tooltip":"/app/views/events/_event_albums.html.erb","undoManager":{"mark":38,"position":38,"stack":[[{"start":{"row":91,"column":16},"end":{"row":92,"column":0},"action":"insert","lines":["",""],"id":1552},{"start":{"row":92,"column":0},"end":{"row":92,"column":10},"action":"insert","lines":["          "]}],[{"start":{"row":92,"column":10},"end":{"row":93,"column":0},"action":"insert","lines":["",""],"id":1553},{"start":{"row":93,"column":0},"end":{"row":93,"column":10},"action":"insert","lines":["          "]}],[{"start":{"row":93,"column":10},"end":{"row":94,"column":0},"action":"insert","lines":["",""],"id":1554},{"start":{"row":94,"column":0},"end":{"row":94,"column":10},"action":"insert","lines":["          "]}],[{"start":{"row":94,"column":10},"end":{"row":95,"column":0},"action":"insert","lines":["",""],"id":1555},{"start":{"row":95,"column":0},"end":{"row":95,"column":10},"action":"insert","lines":["          "]}],[{"start":{"row":95,"column":10},"end":{"row":96,"column":0},"action":"insert","lines":["",""],"id":1556},{"start":{"row":96,"column":0},"end":{"row":96,"column":10},"action":"insert","lines":["          "]}],[{"start":{"row":94,"column":10},"end":{"row":96,"column":18},"action":"insert","lines":["<div class=\"col-sm-1 \">","              <input name=\"album[downloadable]\" type=\"hidden\" value=\"0\"><input class=\"mt14 ml15\" id=\"album_downloadable\" name=\"album[downloadable]\" type=\"checkbox\" value=\"1\">","            </div>"],"id":1557}],[{"start":{"row":94,"column":8},"end":{"row":97,"column":10},"action":"remove","lines":["  <div class=\"col-sm-1 \">","              <input name=\"album[downloadable]\" type=\"hidden\" value=\"0\"><input class=\"mt14 ml15\" id=\"album_downloadable\" name=\"album[downloadable]\" type=\"checkbox\" value=\"1\">","            </div>","          "],"id":1558}],[{"start":{"row":94,"column":6},"end":{"row":94,"column":8},"action":"remove","lines":["  "],"id":1559}],[{"start":{"row":94,"column":4},"end":{"row":94,"column":6},"action":"remove","lines":["  "],"id":1560}],[{"start":{"row":94,"column":2},"end":{"row":94,"column":4},"action":"remove","lines":["  "],"id":1561}],[{"start":{"row":94,"column":0},"end":{"row":94,"column":2},"action":"remove","lines":["  "],"id":1562}],[{"start":{"row":93,"column":10},"end":{"row":94,"column":0},"action":"remove","lines":["",""],"id":1563}],[{"start":{"row":93,"column":8},"end":{"row":93,"column":10},"action":"remove","lines":["  "],"id":1564}],[{"start":{"row":93,"column":6},"end":{"row":93,"column":8},"action":"remove","lines":["  "],"id":1565}],[{"start":{"row":93,"column":4},"end":{"row":93,"column":6},"action":"remove","lines":["  "],"id":1566}],[{"start":{"row":93,"column":2},"end":{"row":93,"column":4},"action":"remove","lines":["  "],"id":1567}],[{"start":{"row":93,"column":0},"end":{"row":93,"column":2},"action":"remove","lines":["  "],"id":1568}],[{"start":{"row":92,"column":10},"end":{"row":93,"column":0},"action":"remove","lines":["",""],"id":1569}],[{"start":{"row":92,"column":8},"end":{"row":92,"column":10},"action":"remove","lines":["  "],"id":1570}],[{"start":{"row":92,"column":6},"end":{"row":92,"column":8},"action":"remove","lines":["  "],"id":1571}],[{"start":{"row":92,"column":4},"end":{"row":92,"column":6},"action":"remove","lines":["  "],"id":1572}],[{"start":{"row":92,"column":2},"end":{"row":92,"column":4},"action":"remove","lines":["  "],"id":1573}],[{"start":{"row":92,"column":0},"end":{"row":92,"column":2},"action":"remove","lines":["  "],"id":1574}],[{"start":{"row":91,"column":16},"end":{"row":92,"column":0},"action":"remove","lines":["",""],"id":1575}],[{"start":{"row":91,"column":16},"end":{"row":92,"column":0},"action":"insert","lines":["",""],"id":1576},{"start":{"row":92,"column":0},"end":{"row":92,"column":10},"action":"insert","lines":["          "]}],[{"start":{"row":92,"column":10},"end":{"row":93,"column":0},"action":"insert","lines":["",""],"id":1577},{"start":{"row":93,"column":0},"end":{"row":93,"column":10},"action":"insert","lines":["          "]}],[{"start":{"row":93,"column":10},"end":{"row":94,"column":0},"action":"insert","lines":["",""],"id":1578},{"start":{"row":94,"column":0},"end":{"row":94,"column":10},"action":"insert","lines":["          "]}],[{"start":{"row":93,"column":10},"end":{"row":100,"column":16},"action":"insert","lines":[" <div class=\"center_block clearfix \">","            <%= f.label  \"Album downloadable: \", class: \"control-label pl15 mt10 pull-left\" %>","            <div>","            <div class=\"col-sm-1 \">","              <%= f.check_box :downloadable, class: \"form-control\" %>","            </div>","            </div>","          </div>"],"id":1579}],[{"start":{"row":84,"column":5},"end":{"row":91,"column":16},"action":"remove","lines":["     <div class=\"center_block clearfix \">","            <%= f.label  \"Album downloadable: \", class: \"control-label pl15 mt15 pull-left\" %>","            <div>","            <div class=\"col-sm-1\">","              <%= check_box_tag :downloadable %>","            </div>","            </div>","          </div>"],"id":1580}],[{"start":{"row":85,"column":10},"end":{"row":93,"column":16},"action":"remove","lines":["","           <div class=\"center_block clearfix \">","            <%= f.label  \"Album downloadable: \", class: \"control-label pl15 mt10 pull-left\" %>","            <div>","            <div class=\"col-sm-1 \">","              <%= f.check_box :downloadable, class: \"form-control\" %>","            </div>","            </div>","          </div>"],"id":1581},{"start":{"row":85,"column":10},"end":{"row":92,"column":16},"action":"insert","lines":["<div class=\"center_block clearfix \">","            <%= f.label  \"Album downloadable: \", class: \"control-label pl15 mt10 pull-left\" %>","            <div>","            <div class=\"col-sm-1 \">","              <%= f.check_box :downloadable, class: \"form-control\" %>","            </div>","            </div>","          </div>"]}],[{"start":{"row":85,"column":10},"end":{"row":92,"column":16},"action":"remove","lines":["<div class=\"center_block clearfix \">","            <%= f.label  \"Album downloadable: \", class: \"control-label pl15 mt10 pull-left\" %>","            <div>","            <div class=\"col-sm-1 \">","              <%= f.check_box :downloadable, class: \"form-control\" %>","            </div>","            </div>","          </div>"],"id":1582},{"start":{"row":85,"column":10},"end":{"row":92,"column":16},"action":"insert","lines":["<div class=\"center_block clearfix \">","            <%= f.label  \"Album downloadable: \", class: \"control-label pl15 mt10 pull-left\" %>","            <div>","            <div class=\"col-sm-1 \">","              <%= f.check_box :downloadable, class: \"mt14 ml15\" %>","            </div>","            </div>","          </div>"]}],[{"start":{"row":154,"column":0},"end":{"row":190,"column":9},"action":"remove","lines":["     if(files.length<1){","        ctx.setTransform(1, 0, 0, 1, 0, 0);","        ctx.clearRect(0, 0, canvas.width, canvas.height);","        ctx.font=\"20px Arial\";","        ctx.fillText(\"Click here to add photos\",10,50);","        return;","      }","    canvas.width = 600;","    canvas.height = 155*(Math.ceil(files.length/4));","    for( var i = 0, len = files.length; i < len; i++) ","    {","      if(files[i])","      {","        var reader = new FileReader();","        reader.onload = function(event){","          var img = new Image();","  ","          img.onload = function(){","            var ratioPx = 150;","            var sWidth =ratioPx;","            var ratio = img.width/sWidth;","            var sHeight = img.height/ratio;   ","            if(sHeight>ratioPx){","             sHeight =ratioPx;","             ratio = img.height/sHeight;","             sWidth = img.width/ratio;  ","           }","           ctx.drawImage(img, 155*(iCnt%4),155*(Math.floor(iCnt/4)),sWidth,sHeight);","                    //ctx.drawImage(img,0,0,sWidth,sHeight);","                    iCnt++;","                  }","                  img.src = event.target.result;","                }","                reader.readAsDataURL(e.target.files[i]);     ","              }","          }","        }"],"id":1583},{"start":{"row":154,"column":0},"end":{"row":194,"column":0},"action":"insert","lines":[" if(files.length<1){","    $('#pic_com_<%= activity.id.to_s %>').val('');","      ctx.setTransform(1, 0, 0, 1, 0, 0);","      canvas.width = 300;","      canvas.height = 155;","      ctx.clearRect(0, 0, canvas.width, canvas.height);","      ctx.font=\"15px Arial\";","      ctx.fillText(\"Click here to add photos (Max: 50 files)\",25,75);","      return;","    }","  canvas.width = 453;","  canvas.height = 155*(Math.ceil(files.length/3));","  for( var i = 0, len = files.length; i < len; i++) ","  {","    if(files[i])","    {","      var reader = new FileReader();","      reader.onload = function(event){","        var img = new Image();","","        img.onload = function(){","          var ratioPx = 150;","          var sWidth =ratioPx;","          var ratio = img.width/sWidth;","          var sHeight = img.height/ratio;   ","          if(sHeight>ratioPx){","           sHeight =ratioPx;","           ratio = img.height/sHeight;","           sWidth = img.width/ratio;  ","         }","         ctx.drawImage(img, 155*(iCnt%3),155*(Math.floor(iCnt/3)),sWidth,sHeight);","                          //ctx.drawImage(img,0,0,sWidth,sHeight);","                          iCnt++;","                        }","                        img.src = event.target.result;","                      }","                      reader.readAsDataURL(e.target.files[i]);     ","                    }","                  }","                }",""]}],[{"start":{"row":205,"column":0},"end":{"row":206,"column":0},"action":"remove","lines":["  });",""],"id":1584},{"start":{"row":204,"column":0},"end":{"row":205,"column":0},"action":"insert","lines":["  });",""]}],[{"start":{"row":204,"column":0},"end":{"row":205,"column":0},"action":"remove","lines":["  });",""],"id":1585},{"start":{"row":203,"column":0},"end":{"row":204,"column":0},"action":"insert","lines":["  });",""]}],[{"start":{"row":203,"column":0},"end":{"row":204,"column":0},"action":"remove","lines":["  });",""],"id":1586},{"start":{"row":202,"column":0},"end":{"row":203,"column":0},"action":"insert","lines":["  });",""]}],[{"start":{"row":202,"column":0},"end":{"row":203,"column":0},"action":"remove","lines":["  });",""],"id":1587},{"start":{"row":201,"column":0},"end":{"row":202,"column":0},"action":"insert","lines":["  });",""]}],[{"start":{"row":201,"column":0},"end":{"row":202,"column":0},"action":"remove","lines":["  });",""],"id":1588},{"start":{"row":200,"column":0},"end":{"row":201,"column":0},"action":"insert","lines":["  });",""]}],[{"start":{"row":200,"column":0},"end":{"row":201,"column":0},"action":"remove","lines":["  });",""],"id":1589},{"start":{"row":199,"column":0},"end":{"row":200,"column":0},"action":"insert","lines":["  });",""]}],[{"start":{"row":199,"column":0},"end":{"row":200,"column":0},"action":"remove","lines":["  });",""],"id":1590},{"start":{"row":198,"column":0},"end":{"row":199,"column":0},"action":"insert","lines":["  });",""]}]]},"ace":{"folds":[],"scrolltop":2680,"scrollleft":0,"selection":{"start":{"row":198,"column":5},"end":{"row":198,"column":5},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":190,"state":"js-start","mode":"ace/mode/html_ruby"}},"timestamp":1437911847000,"hash":"f7edb7481c647c935bdeb4d07f71b9ac4be4a5ce"}